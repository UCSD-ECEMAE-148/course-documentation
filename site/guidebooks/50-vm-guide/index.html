
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://example.com/guidebooks/50-vm-guide/">
      
      
        <link rel="prev" href="../30-robocar-jetson/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.15">
    
    
      
        <title>Virtual Machine with DonkeyCar/DonkeySim AI Simulator - UCSD ECE/MAE 148 - Introduction to Autonomous Vehicles</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#virtual-machine-with-donkeycardonkeysim-ai-simulator" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="UCSD ECE/MAE 148 - Introduction to Autonomous Vehicles" class="md-header__button md-logo" aria-label="UCSD ECE/MAE 148 - Introduction to Autonomous Vehicles" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UCSD ECE/MAE 148 - Introduction to Autonomous Vehicles
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Virtual Machine with DonkeyCar/DonkeySim AI Simulator
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="UCSD ECE/MAE 148 - Introduction to Autonomous Vehicles" class="md-nav__button md-logo" aria-label="UCSD ECE/MAE 148 - Introduction to Autonomous Vehicles" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    UCSD ECE/MAE 148 - Introduction to Autonomous Vehicles
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome!
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Course deliverables
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Course deliverables
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course-deliverables/group/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Group Assignments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course-deliverables/individual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Individual Assignments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Course overview
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Course overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course-overview/outline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introductions and Class Logistics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course-overview/syllabus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10-Week Course Syllabus
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Guidebooks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Guidebooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../30-robocar-jetson/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UCSD Robocar Jetson Nano Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Virtual Machine with DonkeyCar/DonkeySim AI Simulator
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Virtual Machine with DonkeyCar/DonkeySim AI Simulator
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initial-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Initial Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-and-install" class="md-nav__link">
    <span class="md-ellipsis">
      Download and Install
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initial-boot-of-vm" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Boot of VM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-into-vmware-virtual-machine" class="md-nav__link">
    <span class="md-ellipsis">
      Log into VMware virtual machine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copypaste-capabilitites" class="md-nav__link">
    <span class="md-ellipsis">
      Copy/Paste Capabilitites
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-game-controller" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting Game Controller
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Connecting Game Controller">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-controller-if-neededdesired" class="md-nav__link">
    <span class="md-ellipsis">
      Custom controller (if needed/desired)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#donkeycar-ai-framework" class="md-nav__link">
    <span class="md-ellipsis">
      DonkeyCar AI Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DonkeyCar AI Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-launch-the-simulator" class="md-nav__link">
    <span class="md-ellipsis">
      How to launch the simulator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customize-your-virtual-robot-racer" class="md-nav__link">
    <span class="md-ellipsis">
      Customize your virtual robot racer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-latency-from-remote-server-roboticistdev" class="md-nav__link">
    <span class="md-ellipsis">
      Get latency from remote server roboticist.dev
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collecting-data" class="md-nav__link">
    <span class="md-ellipsis">
      Collecting data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#driving-your-robot" class="md-nav__link">
    <span class="md-ellipsis">
      Driving your robot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-data" class="md-nav__link">
    <span class="md-ellipsis">
      Deleting data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#training-and-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Training and testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-your-model-work" class="md-nav__link">
    <span class="md-ellipsis">
      Does your model work?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#training-on-a-specific-tub" class="md-nav__link">
    <span class="md-ellipsis">
      Training on a specific tub
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ucsd-gpu-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      UCSD GPU Cluster
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initial-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Initial Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-and-install" class="md-nav__link">
    <span class="md-ellipsis">
      Download and Install
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initial-boot-of-vm" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Boot of VM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-into-vmware-virtual-machine" class="md-nav__link">
    <span class="md-ellipsis">
      Log into VMware virtual machine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copypaste-capabilitites" class="md-nav__link">
    <span class="md-ellipsis">
      Copy/Paste Capabilitites
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-game-controller" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting Game Controller
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Connecting Game Controller">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-controller-if-neededdesired" class="md-nav__link">
    <span class="md-ellipsis">
      Custom controller (if needed/desired)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#donkeycar-ai-framework" class="md-nav__link">
    <span class="md-ellipsis">
      DonkeyCar AI Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DonkeyCar AI Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-launch-the-simulator" class="md-nav__link">
    <span class="md-ellipsis">
      How to launch the simulator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customize-your-virtual-robot-racer" class="md-nav__link">
    <span class="md-ellipsis">
      Customize your virtual robot racer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-latency-from-remote-server-roboticistdev" class="md-nav__link">
    <span class="md-ellipsis">
      Get latency from remote server roboticist.dev
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collecting-data" class="md-nav__link">
    <span class="md-ellipsis">
      Collecting data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#driving-your-robot" class="md-nav__link">
    <span class="md-ellipsis">
      Driving your robot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-data" class="md-nav__link">
    <span class="md-ellipsis">
      Deleting data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#training-and-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Training and testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-your-model-work" class="md-nav__link">
    <span class="md-ellipsis">
      Does your model work?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#training-on-a-specific-tub" class="md-nav__link">
    <span class="md-ellipsis">
      Training on a specific tub
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ucsd-gpu-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      UCSD GPU Cluster
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="virtual-machine-with-donkeycardonkeysim-ai-simulator">Virtual Machine with DonkeyCar/DonkeySim AI Simulator</h1>
<h2 id="initial-setup">Initial Setup</h2>
<h3 id="download-and-install">Download and Install</h3>
<p>Download <a href="https://www.vmware.com/products/workstation-player.html">VMware Player</a> (Windows and Linux), Fusion Player (MacOS). <em>Not working for Mac M1 or M2 yet.</em></p>
<p>A <a href="https://drive.google.com/file/d/1aGVPzoEPYW0GxUnVGjzkiNsqqJFgZ7hb/view?usp=sharing">VMware virtual machine image can be downloaded from here</a>. Download and unzip it <strong>onto your host computer</strong>.</p>
<p>Once unzipped the virtual machine image will take about 40 GB of disc space. If needed, clear some space from your computer, i.e. removing videos or other large media files. Alternatively, use a USB external drive if needed.</p>
<ul>
<li>If you unzip the image onto an external USB, you will have to ensure the USB is connected each time you run the virtual machine on VMware.  </li>
<li>If VMware Player asks you "Did you copy or move these files?" select "I copied them."</li>
</ul>
<p>You need a host machine with at least <strong>8 GB RAM</strong>. The virtual machine is configured by default to use 5 GB RAM. If your host machine has 16 GB or more, you will need to configure your settings in VMware to use 8 GB. You can change this setting in your virtual hardware configuration <strong>while the virtual machine is not running</strong>.</p>
<h3 id="initial-boot-of-vm">Initial Boot of VM</h3>
<p>Start the virtual machine using the VMware player (Windows, Linux) or Fusion Player (MacOS).
- If needed to boot, enable Virtualization on your BIOS/EFI
- On the VMware Player machine configuration, disable "Optimization for Virtualization."
- Example of settings for Fusion Player on Mac:</p>
<h3 id="log-into-vmware-virtual-machine">Log into VMware virtual machine</h3>
<p>Username: <code>ucsd</code> <br>
Password: <code>UcsdStudent</code></p>
<h3 id="copypaste-capabilitites">Copy/Paste Capabilitites</h3>
<p>If cutting and pasting from your host computer to your virtual machine is not working, open a terminal in the Linux VM and run the following:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>autoremove<span class="w"> </span>open-vm-tools
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>open-vm-tools-desktop
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>sudo<span class="w"> </span>reboot
</span></code></pre></div>
<h2 id="connecting-game-controller">Connecting Game Controller</h2>
<p>Using a game controller will be the desirable way to control your DonkeyCar simulation.<br />
Examples of compatible game controllers include<br />
<strong>PS3, PS4, Xbox, Logitech F710</strong>.</p>
<p>The controller needs to be connected to the <strong>host computer</strong> using USB cable, Bluetooth or USB dongle.</p>
<p>Once the controller is connected to the host, the VMware Player should ask you where you want to connect the game controller ('Connect to the host' or 'Connect to a virtual machine'). <strong>Select the UCSD-Ubuntu machine</strong>.</p>
<p>The pop-up window should appear as one of the following:</p>
<p><em>image here</em></p>
<p>If you don't see this option, reconnect the controller.</p>
<p>To verify that the virtual machine can see the game controller, check the input for <code>js0</code>.</p>
<ul>
<li>Open a terminal in Linux machine and run the following command.</li>
</ul>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>ls<span class="w"> </span>/dev/input
</span></code></pre></div>
<p>You should see:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>by-id<span class="w">    </span>event0<span class="w">  </span>event2<span class="w">  </span>event4<span class="w">  </span>event6<span class="w">  </span>js0<span class="w">   </span>mouse0<span class="w">  </span>mouse2
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>by-path<span class="w">  </span>event1<span class="w">  </span>event3<span class="w">  </span>event5<span class="w">  </span>event7<span class="w">  </span>mice<span class="w">  </span>mouse1<span class="w">  </span>mouse3
</span></code></pre></div>
<p>Once you confirm that you can see <code>js0</code>, let's test the joystick controls.</p>
<ul>
<li>From a terminal:</li>
</ul>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>update
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>jstest-gtk
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>jstest<span class="w"> </span>/dev/input/js0
</span></code></pre></div>
<p><em>image of joystick controls</em></p>
<p>Move/press the game controller buttons to test which buttons trigger the corresponding input values, i.e. X, O, Triangle, Select/Share, Start/Options.</p>
<blockquote>
<p>Jack, what if my game controller works with the <code>jtest /dev/input/js0</code> but is not working with the DonkeyCar?</p>
</blockquote>
<p>Not to worry, <a href="https://docs.donkeycar.com/parts/controllers/">there is a way to build a custom file</a> for your game controller with the controls we use most.</p>
<h3 id="custom-controller-if-neededdesired">Custom controller (if needed/desired)</h3>
<p>If you have a controller that is not listed above, or you are having trouble getting your controller to work, or you simply want to map your controller differently, see the <a href="https://docs.donkeycar.com/parts/controllers/#creating-a-new-or-custom-game-controller">Custom Game Controller</a> documentation on DonkeyCar.</p>
<p>To discover or modify the button and axis mappings for your controller, you can use the <a href="https://docs.donkeycar.com/utility/donkey/#joystick-wizard">Joystick Wizard</a> via the command line. </p>
<p>The Joystick Wizard will write a custom controller named <code>my_joystick.py</code> to your <code>mycar</code> folder. To use the custom controller, set <code>CONTROLLER_TYPE="custom"</code> in your <code>myconfig.py</code>.</p>
<ul>
<li>From a terminal, navigate to your <code>mycar</code> directory.</li>
</ul>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">cd</span><span class="w"> </span>~/projects/d4_sim
</span></code></pre></div>
<p>This should be the directory with all of your Python configuration files, i.e. <code>manage.py</code>, <code>train.py</code>, <code>myconfig.py</code>.</p>
<ul>
<li>First, make sure the OS can access your device. The utility <code>jtest</code> can be usefull here. If needed:</li>
</ul>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>joystick
</span></code></pre></div>
<p>You must pass this utility the path to your controller's device. Typically this will be <code>/dev/input/js0</code>. However, if it is not, you must find the correct device path and provide it to the utility. You will need this for the <code>createjs</code> command as well.</p>
<ul>
<li>From the current directory you have just navigated to, run the command</li>
</ul>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>donkey<span class="w"> </span>createjs
</span></code></pre></div>
<p>This will create a file named <code>my_joystick.py</code> in your <code>/d4_sim</code> folder, next to your <code>manage.py</code>.</p>
<p>Modify <code>myconfig.py</code> to use your new controller.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>atom<span class="w"> </span>myconfig.py
</span></code></pre></div>
<p>Find the line below and modify it as:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">CONTROLLER_TYPE</span><span class="o">=</span><span class="s2">&quot;custom&quot;</span>
</span></code></pre></div>
<h2 id="donkeycar-ai-framework">DonkeyCar AI Framework</h2>
<p><a href="https://ori.codes/artificial-intelligence/">DonkeyCar AI Framework Explained</a></p>
<h3 id="how-to-launch-the-simulator">How to launch the simulator</h3>
<p>To start the DonkeySim:</p>
<ul>
<li>Use the File Explorer to navigate to <code>~/projects/DonkeySimLinux</code>.  </li>
<li>Double click the file <code>donkey_sim.x86_64</code> to execute.  </li>
<li>You should now see the DonkeySim ready for use.</li>
</ul>
<p>Depending on the track we will be racing on, you need to train on the track that will be used during the race in order to successfully race against other people.</p>
<p>Some tracks you will see are <code>donkey-circuit-launch-track-v0</code>, <code>donkey-warren-track-v0</code>, <code>donkey-mountain-track-v0</code>.</p>
<p><em>Specify track for current quarter</em></p>
<h3 id="customize-your-virtual-robot-racer">Customize your virtual robot racer</h3>
<ul>
<li>From a terminal:</li>
</ul>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nb">cd</span><span class="w"> </span>~/projects/d4_sim
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>atom<span class="w"> </span>myconfig.py
</span></code></pre></div>
<p>This time you will pull up the <code>myconfig.py</code> file to investigate and edit more in-depth.</p>
<p>In your <code>myconfig.py</code> you may modify the following variables</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">GYM_CONF</span><span class="p">[</span><span class="s2">&quot;racer_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;UCSD-148-YourName&quot;</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="n">GYM_CONF</span><span class="p">[</span><span class="s2">&quot;country&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;USA&quot;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="n">GYM_CONF</span><span class="p">[</span><span class="s2">&quot;bio&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Something_about_you, ex: Made in Brazil&quot;</span>
</span></code></pre></div>
<p>in addition to the <code>car_name</code> variable in the following line.</p>
<div class="language-py3 highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">GYM_CONF</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;body_style&quot;</span> <span class="p">:</span> <span class="s2">&quot;car01&quot;</span><span class="p">,</span> <span class="s2">&quot;body_rgb&quot;</span> <span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s2">&quot;car_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;UCSD-148-YourName&quot;</span><span class="p">,</span> <span class="s2">&quot;font_size&quot;</span> <span class="p">:</span> <span class="mi">30</span><span class="p">}</span>
</span></code></pre></div>
<p>You can also change the color of the car to one of UCSD's colors, blue or gold. You can see how by examining the commented lines in the demo file below.</p>
<p>An example <code>myconfig.py</code> file:</p>
<div class="language-py3 highlight"><span class="filename">myconfig.py</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># 04Jan22</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="c1"># UCSD mods to make easier for the UCSD students to use the Donkey-Sim</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="c1"># the following uncommented lines where copied here from the body of myconfig.py below</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="n">DONKEY_GYM</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="c1"># DONKEY_SIM_PATH = &quot;remote&quot;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="n">DONKEY_SIM_PATH</span> <span class="o">=</span> <span class="s2">&quot;/home/ucsd/projects/DonkeySimLinux/donkey_sim.x86_64&quot;</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="c1"># DONKEY_GYM_ENV_NAME = &quot;donkey-warren-track-v0&quot;</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="n">DONKEY_GYM_ENV_NAME</span> <span class="o">=</span> <span class="err">“</span><span class="n">donkey</span><span class="o">-</span><span class="n">mountain</span><span class="o">-</span><span class="n">track</span><span class="o">-</span><span class="n">v0</span><span class="err">”</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="c1"># UCSD yellow color in RGB = 255, 205, 0</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="c1"># UCSD blue color in RGB = 0, 106, 150</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="n">GYM_CONF</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;body_style&quot;</span> <span class="p">:</span> <span class="s2">&quot;car01&quot;</span><span class="p">,</span> <span class="s2">&quot;body_rgb&quot;</span> <span class="p">:</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s2">&quot;car_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;UCSD-148-YourName&quot;</span><span class="p">,</span> <span class="s2">&quot;font_size&quot;</span> <span class="p">:</span> <span class="mi">30</span><span class="p">}</span> <span class="c1"># body style(donkey|bare|car01) body rgb 0-255</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="n">GYM_CONF</span><span class="p">[</span><span class="s2">&quot;racer_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;UCSD-148-YourName&quot;</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="n">GYM_CONF</span><span class="p">[</span><span class="s2">&quot;country&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;USA&quot;</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="n">GYM_CONF</span><span class="p">[</span><span class="s2">&quot;bio&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Something_about_you, ex: Made in Brazil&quot;</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="c1">#</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="c1"># SIM_HOST = &quot;donkey-sim.roboticist.dev&quot;</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="n">SIM_ARTIFICIAL_LATENCY</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="n">SIM_HOST</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span>  
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="c1"># when racing on virtual-race-league use host &quot;roboticist.dev&quot;</span>
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="c1"># SIM_ARTIFICIAL_LATENCY = 30</span>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="c1"># when training on the host machine, </span>
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="c1"># set artificial latency to the value </span>
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="c1"># when you ping roboticist.dev. When racing on </span>
</span><span id="__span-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="c1"># virtual-race league, use 0 (zero)</span>
</span><span id="__span-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="c1">#</span>
</span><span id="__span-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="c1"># When racing, to give the ai a boost, configure these values.</span>
</span><span id="__span-12-27"><a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a><span class="n">AI_LAUNCH_DURATION</span> <span class="o">=</span> <span class="mi">3</span>     <span class="c1"># the ai will output throttle for this many seconds</span>
</span><span id="__span-12-28"><a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="n">AI_LAUNCH_THROTTLE</span> <span class="o">=</span> <span class="mi">1</span>     <span class="c1"># the ai will output this throttle value</span>
</span><span id="__span-12-29"><a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="n">AI_LAUNCH_KEEP_ENABLED</span> <span class="o">=</span> <span class="kc">True</span>     <span class="c1"># when False (default) you will need to hit the </span>
</span><span id="__span-12-30"><a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="c1"># AI_LAUNCH_ENABLE_BUTTON for each use. </span>
</span><span id="__span-12-31"><a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a><span class="c1"># This is safest. When this True, is active on each trip into &quot;local&quot; ai mode.</span>
</span><span id="__span-12-32"><a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a><span class="c1">#</span>
</span><span id="__span-12-33"><a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a><span class="c1"># JOYSTICK</span>
</span><span id="__span-12-34"><a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a><span class="c1"># When using a joystick modify these by uncommenting USE_JOYSTICK_AS_DEFAULT = True</span>
</span><span id="__span-12-35"><a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a><span class="c1">#</span>
</span><span id="__span-12-36"><a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a><span class="c1"># USE_JOYSTICK_AS_DEFAULT = True  </span>
</span><span id="__span-12-37"><a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a><span class="c1"># when starting the manage.py, when True, will not require a --js option to use the joystick</span>
</span><span id="__span-12-38"><a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a><span class="n">JOYSTICK_MAX_THROTTLE</span> <span class="o">=</span> <span class="mf">1.0</span>      <span class="c1"># this scalar is multiplied with the -1 to 1 throttle value to limit the maximum throttle. This can help if you drop the controller or just don&#39;t need the full speed available.</span>
</span><span id="__span-12-39"><a id="__codelineno-12-39" name="__codelineno-12-39" href="#__codelineno-12-39"></a><span class="n">JOYSTICK_STEERING_SCALE</span> <span class="o">=</span> <span class="mf">0.8</span>    <span class="c1"># some people want a steering that is less sensitve. This scalar is multiplied with the steering -1 to 1. It can be negative to reverse dir.</span>
</span><span id="__span-12-40"><a id="__codelineno-12-40" name="__codelineno-12-40" href="#__codelineno-12-40"></a><span class="n">AUTO_RECORD_ON_THROTTLE</span> <span class="o">=</span> <span class="kc">True</span>   <span class="c1"># if true, we will record whenever throttle is not zero. if false, you must manually toggle recording with some other trigger. Usually circle button on joystick.</span>
</span><span id="__span-12-41"><a id="__codelineno-12-41" name="__codelineno-12-41" href="#__codelineno-12-41"></a><span class="n">JOYSTICK_DEADZONE</span> <span class="o">=</span> <span class="mf">0.2</span>      <span class="c1"># when non zero, this is the smallest throttle before recording triggered.</span>
</span><span id="__span-12-42"><a id="__codelineno-12-42" name="__codelineno-12-42" href="#__codelineno-12-42"></a><span class="c1"># #Scale the output of the throttle of the ai pilot for all model types.</span>
</span><span id="__span-12-43"><a id="__codelineno-12-43" name="__codelineno-12-43" href="#__codelineno-12-43"></a><span class="n">AI_THROTTLE_MULT</span> <span class="o">=</span> <span class="mf">1.0</span>     <span class="c1"># this multiplier will scale every throttle value for all output from NN models</span>
</span><span id="__span-12-44"><a id="__codelineno-12-44" name="__codelineno-12-44" href="#__codelineno-12-44"></a><span class="c1">#</span>
</span></code></pre></div>
<h3 id="get-latency-from-remote-server-roboticistdev">Get latency from remote server <code>roboticist.dev</code></h3>
<p>First, ping the remote server and take note of the average ping time, i.e. 30 ms.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>ping<span class="w"> </span>donkey-sim.roboticist.dev
</span></code></pre></div>
<p><em>insert image of ping results</em></p>
<p>In this example, since I am in the same network as <code>donkey-sim.roboticist.dev</code> my ping time is much smaller, around 0.5 ms. Assuming you are somewhere in the USA, you should get between 20-60 ms.</p>
<p>Write this value into your <code>myconfig.py</code> file as shown above.</p>
<div class="language-py3 highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">SIM_ARTIFICIAL_LATENCY</span> <span class="o">=</span> <span class="mi">30</span>
</span></code></pre></div>
<p><strong>Remember</strong>: This step is crucial to train your car for remote racing when you are not on the same network in the future. </p>
<h3 id="collecting-data">Collecting data</h3>
<p>For training your model, we will do a "behavioral cloning" AI.</p>
<p>Begin by driving the robot in the local simulator, aka the simulator on your virtual machine that is running on your host.</p>
<p>If you have not already, activate the donkey virtual environment.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>conda<span class="w"> </span>activate<span class="w"> </span>donkey
</span></code></pre></div>
<p>If you have activated the venv correctly, your terminal line should now look something like this:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>(donkey) ucsd@ucsd-virt-ub:~/$
</span></code></pre></div>
<p>Navigate to your DonkeyCar directory.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nb">cd</span><span class="w"> </span>~/projects/d4_sim
</span></code></pre></div>
<p>Now let's drive the robot to collect data automatically. In your terminal, run:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>python<span class="w"> </span>manage.py<span class="w"> </span>drive
</span></code></pre></div>
<p>You should see the following output.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>You<span class="w"> </span>can<span class="w"> </span>now<span class="w"> </span>go<span class="w"> </span>to<span class="w"> </span>http://localhost:8887<span class="w"> </span>to<span class="w"> </span>drive<span class="w"> </span>your<span class="w"> </span>car.
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>Starting<span class="w"> </span>vehicle<span class="w"> </span>at<span class="w"> </span><span class="m">20</span><span class="w"> </span>Hz
</span></code></pre></div>
<p>Open a web browser like Chrome (or Firefox on Linux).</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>http://localhost:8887
</span></code></pre></div>
<h3 id="driving-your-robot">Driving your robot</h3>
<p>To control your car, you can either use the controller after configuring it <a href="#connecting-game-controller">following the steps above</a>, or you can drive with your keyboard and mouse from the web browser.</p>
<p>Some helpful settings for your joystick to improve controllability are outlined in the <code># JOYSTICK</code> section of <code>myconfig.py</code>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># JOYSTICK</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">USE_JOYSTICK_AS_DEFAULT</span> <span class="o">=</span> <span class="kc">True</span>   <span class="c1"># when starting the manage.py</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="n">JOYSTICK_MAX_THROTTLE</span> <span class="o">=</span> <span class="mf">1.0</span>      <span class="c1"># this scalar is multiplied with the -1 to 1</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="n">JOYSTICK_STEERING_SCALE</span> <span class="o">=</span> <span class="mf">0.7</span>    <span class="c1"># some people want a steering that is less sensitive</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="n">AUTO_RECORD_ON_THROTTLE</span> <span class="o">=</span> <span class="kc">True</span>   <span class="c1"># if true, will record whenever throttle is not zero</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="n">CONTROLLER_TYPE</span><span class="o">=</span><span class="s1">&#39;F710&#39;</span>           <span class="c1"># (ps3|ps4|xbox|nimbus|wiiu|F710|rc3|MM1|custom)</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="n">JOYSTICK_DEADZONE</span> <span class="o">=</span> <span class="mf">0.0</span>          <span class="c1"># when non zero, this is the smallest throttle before recording triggered</span>
</span></code></pre></div>
<blockquote>
<p>Hint: if your trained model is having trouble with accuracy when going around curves, try setting <code>AUTO_RECORD_ON_THROTTLE = False</code>
and engage your throttle manually. This way there will not be any gaps in recording data.</p>
</blockquote>
<p>Some advantages to using a game controller over your mouse/keyboard:</p>
<ul>
<li>Delete 100 last data points (at 20 Hz, this is equivalent to the last 5 seconds of driving data)<ul>
<li>On PS3/PS4 this is usually "Triangle" button</li>
<li>On Logitech F710 this is usually "Y"</li>
<li>If you miss a turn or accidentally drive your vehicle into a wall, just remove that 5 seconds of recording and keep going</li>
</ul>
</li>
<li>Emergency Stop</li>
<li>Easily switch operation modes from AI to manual </li>
</ul>
<p>Practice for a while and don't worry about not driving well initially. We'll show you how to delete all the data you've collected in one run so you can start with a clean set later.</p>
<p>We will be training the AI model in increments of approximately 20 laps, so count your laps as feasible.</p>
<p>To stop the DonkeyCar, use <code>Ctrl+C</code> like other Python code you've used so far.</p>
<h3 id="deleting-data">Deleting data</h3>
<p>You can delete your entire data directory to start fresh if you'd like. This can be done with basic Linux commands you've recently learned.</p>
<p>Where is the data stored? Take a guess.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nb">cd</span><span class="w"> </span>~/projects/d4_sim
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>ls
</span></code></pre></div>
<p>Inside your directory you should see a folder called <code>/data</code>. Let's clean it up and start fresh.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>rm<span class="w"> </span>-rf<span class="w"> </span>data
</span></code></pre></div>
<p>Then, create the directory again.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>mkdir<span class="w"> </span>data
</span></code></pre></div>
<h3 id="training-and-testing">Training and testing</h3>
<p>OK, so you've recorded 20 laps of driving data. Now what?</p>
<p>It's time to train your model using all the data by giving it a name when running the <code>train.py</code> command. From your <code>/d4_sim</code> directory, run the command:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>python<span class="w"> </span>train.py<span class="w"> </span>--model<span class="o">=</span>models/14mar24_sim_160x120_20.h5<span class="w"> </span>--type<span class="o">=</span>linear<span class="w"> </span>--tub<span class="o">=</span>./data
</span></code></pre></div>
<p>By executing this command with the <code>--model</code> option, you are telling the framework to train a new model called <code>14mar24_sim_160x120_20.h5</code> with the data you've collected, with the <code>20</code> tag at the end indicating how many laps you're using to train with.</p>
<p>Depending on your connection speed and the amount of laps you've recorded, this could take a while. Once your model has been trained, let's test it.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>python<span class="w"> </span>manage.py<span class="w"> </span>drive<span class="w"> </span>--model<span class="o">=</span>models/14mar24_sim_160x120_20.h5<span class="w"> </span>--type<span class="o">=</span>linear
</span></code></pre></div>
<p>This should open up the simulator as before. Press "Select" twice on your controller to start the AI model (or whichever button corresponds with your controller to activate AI drive).</p>
<h3 id="does-your-model-work">Does your model work?</h3>
<p>A lot of things may have just happened.</p>
<ul>
<li>Does your car go berserk? Don't worry, there's a few things you can try.  <ul>
<li>Add another 20 laps and train again</li>
<li>Go into your <code>myconfig.py</code> and modify the sections of the code that configure the driving behavior of your AI model.  <ul>
<li>This could consist of increasing or decreasing the AI throttle boost, changing the max throttle, changing the throttle multiplier, etc.</li>
</ul>
</li>
</ul>
</li>
<li>Does your car drive well but lose it around the corners?  <ul>
<li>Check to make sure your <code>AUTO_RECORD_ON_THROTTLE</code> is set to <code>False</code>. This way you won't lose data when you release the gas around tight corners, and you can also manually choose when you want to record your driving and when to stop.</li>
</ul>
</li>
</ul>
<p>While driving your robot to collect data, it is a good idea to keep the terminal visible so you can see whether you are recording data. Sometimes you may accidentally turn recording off while you are driving and you may not know it.</p>
<p>As you continue adding data by driving more laps manually, you can rename the model as you train. For example, if you add 20 more laps and train again, you may choose to change the <code>20</code> tag to <code>40</code> on your next train.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>python<span class="w"> </span>train.py<span class="w"> </span>--model<span class="o">=</span>models/14mar24_sim_160x120_40.h5<span class="w"> </span>--type<span class="o">=</span>linear<span class="w"> </span>--tub<span class="o">=</span>./data
</span></code></pre></div>
<blockquote>
<p>Remember to run this from your <code>/d4_sim</code> directory for it to work</p>
</blockquote>
<p>Now let's test your model again with the new data.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>python<span class="w"> </span>manage.py<span class="w"> </span>drive<span class="w"> </span>--model<span class="o">=</span>models/14mar24_160x120_40.h5<span class="w"> </span>--type<span class="o">=</span>linear
</span></code></pre></div>
<h3 id="training-on-a-specific-tub">Training on a specific tub</h3>
<p>You may also choose to drive your model and store data in a different tub each time you add new laps.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nb">cd</span><span class="w"> </span>~/projects/d4_sim
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>data/tub_2
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>python<span class="w"> </span>manage.py<span class="w"> </span>drive<span class="w"> </span>--model<span class="o">=</span>models/14mar24_160x120_40.h5<span class="w"> </span>--type<span class="o">=</span>linear<span class="w"> </span>--tub<span class="o">=</span>data/tub_2
</span></code></pre></div>
<p>This instance creates a new directory in the <code>/data</code> directory, then initiates your simulator and points to the new tub for your driving data to be recorded.</p>
<p>Add 20 more laps. Then, to train with your new data and transfer the training to your previous model, run the following command.</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>python<span class="w"> </span>train.py<span class="w"> </span>--tub<span class="o">=</span>data/tub_1<span class="w"> </span>--transfer<span class="o">=</span>models/previous_model.h5<span class="w"> </span>--model<span class="o">=</span>models/new_model.h5
</span></code></pre></div>
<p>For this example, the command would be</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>python<span class="w"> </span>train.py<span class="w"> </span>--tub<span class="o">=</span>data/tub_1<span class="w"> </span>--transfer<span class="o">=</span>models/14mar24_sim_160x120_40.h5<span class="w"> </span>--model<span class="o">=</span>models/14mar24_160x120_40.h5
</span></code></pre></div>
<h2 id="ucsd-gpu-cluster">UCSD GPU Cluster</h2>
<p><strong>Please do not use the GPU cluster until you demonstrate training on your local machine first. It is part of your deliverables for the class.</strong></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.sections", "navigation.path", "content.code.copy", "content.code.select"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.bd41221c.min.js"></script>
      
        <script src="../../javascripts/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>